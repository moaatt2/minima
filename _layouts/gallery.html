---
layout: base
---

{% for post in site.posts %}
    {%- if post.image_path -%}

        <!-- Count Images -->
        {%- assign num_images = 0 -%}
        {%- for file in site.static_files -%}
            {%- if file.path contains post.image_path -%}
                {%- unless file.path contains '_step_' or file.path contains '_tutorial_' -%}
                    {%- assign num_images = num_images | plus:1 -%}
                {%- endunless -%}
            {%- endif -%}
        {%- endfor -%}

        <!-- List images for post if there is at least 1 image -->
        {%- if num_images > 1 -%}

            <div class="gallery-card">
                <div class="gallery-carousel">
                    {%- for file in site.static_files -%}
                        {%- if file.path contains post.image_path -%}
                            {%- unless file.path contains '_step_' or file.path contains '_tutorial_' -%}
                                <img src="{{ file.path }}">
                                <!-- Maybe parse the filepath to get a caption -->
                            {%- endunless -%}
                        {%- endif -%}
                    {%- endfor -%}
                </div>
 
                <div class="gallery-info">
                    <!-- Style this like the post layout without a picture -->
                    {{ post.title }}
                </div>
            </div>
            <br>

        {%- endif -%}

    {%- endif -%}
{% endfor %}
