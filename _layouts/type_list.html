---
layout: base
---

<!-- Create an empty string -->
{%- assign types = "" -%}

<!-- Itterate over posts and concatenate weave family values to string -->
{% for post in site.posts %}
    {% if post.type %}
        {% assign type = post.type | append: ", " %}
        {% assign types = types | append: type %}
    {% endif %}
{% endfor %}

<!-- Split the string into an array, then de-duplicate and sort it -->
{%- assign types = types | split: ", " | uniq | sort-%}


<!-- List tag links to types -->
<h1>Post Types</h1>

<div class="tags">
    {% for type in types %}
        <a href="#{{ type }}"> {{ type }} </a>
    {% endfor %}
</div>


<!-- List posts by type -->
<h1>Post Type Lists</h1>

{%- for type in types -%}

    <div class="tag-title">
        <span id="{{ type }}"> {{ type }} </span>
    </div>

    <ul class="post-list">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {%- for post in site.posts -%}
            {%- if post.type == type -%}
                <li>
                    <span class="post-meta">{{ post.date | date: date_format }}</span>
                    <h3>
                        <a class="post-link" href="{{ post.url | relative_url }}">
                            {{ post.title | escape }}
                        </a>
                    </h3>
                    {%- if site.show_excerpts -%}
                        {{ post.excerpt }}
                    {%- endif -%}
                </li>
            {%- endif -%}
        {%- endfor -%}
    </ul>    

{%- endfor -%}
